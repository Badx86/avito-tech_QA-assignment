{"name": "test_mocked_data_counter[data_requests/test_data_03.json-.desktop-impact-items-F7T6E-TC_06.png]", "status": "broken", "statusDetails": {"message": "KeyError: 'url'", "trace": "page = <Page url='about:blank'>, test_data_file = 'data_requests/test_data_03.json', counter_selector = '.desktop-impact-items-F7T6E', output_filename = 'TC_06.png'\n\n    @allure.feature('Eco Impact Counters')\n    @allure.story('Mock Data Counter Test')\n    @pytest.mark.parametrize(\n        \"test_data_file, counter_selector, output_filename\",\n        [\n            (\n                \"data_requests/test_data_01.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_04.png\",\n            ),\n            (\n                \"data_requests/test_data_02.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_05.png\",\n            ),\n            (\n                \"data_requests/test_data_03.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_06.png\",\n            ),\n            (\n                \"data_requests/test_data_04.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_07.png\",\n            ),\n            (\n                \"data_requests/test_data_05.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_08.png\",\n            ),\n            (\n                \"data_requests/test_data_06.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_09.png\",\n            ),\n            (\n                \"data_requests/test_data_07.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_10.png\",\n            ),\n            (\n                \"data_requests/test_data_08.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_11.png\",\n            ),\n            (\n                \"data_requests/test_data_09.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_12.png\",\n            ),\n            (\n                \"data_requests/test_data_10.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_13.png\",\n            ),\n            (\n                \"data_requests/test_data_11.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_14.png\",\n            ),\n            (\n                \"data_requests/test_data_12.json\",\n                EcoImpactPage.IMPACT_ITEMS_BLOCK,\n                \"TC_15.png\",\n            ),\n        ],\n    )\n    def test_mocked_data_counter(page, test_data_file, counter_selector, output_filename):\n        with allure.step(f\"Load mock data from {test_data_file}\"):\n            mock_data = load_mock_data(test_data_file)\n        with allure.step(\"Intercept API call and inject mock data\"):\n            page.route(\n                \"**/web/1/charity/ecoImpact/init\",\n                lambda route: route.fulfill(\n                    status=200,\n                    body=json.dumps(mock_data),\n                    headers={\"Content-Type\": \"application/json\"},\n                ),\n            )\n            with allure.step(\"Navigate to Eco Impact page and take screenshot\"):\n>               eco_page = EcoImpactPage(page)\n\ntests\\test_eco_impact.py:133: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.eco_impact_page.EcoImpactPage object at 0x000002A5BFE46B50>, page = <Page url='about:blank'>\n\n    def __init__(self, page):\n>       super().__init__(page)\nE       KeyError: 'url'\n\npages\\eco_impact_page.py:19: KeyError"}, "steps": [{"name": "Load mock data from data_requests/test_data_03.json", "status": "passed", "start": 1713106868956, "stop": 1713106868957}, {"name": "Intercept API call and inject mock data", "status": "broken", "statusDetails": {"message": "KeyError: 'url'\n", "trace": "  File \"D:\\PycharmProjects\\avito-tech_QA-assignment\\tests\\test_eco_impact.py\", line 133, in test_mocked_data_counter\n    eco_page = EcoImpactPage(page)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\PycharmProjects\\avito-tech_QA-assignment\\pages\\eco_impact_page.py\", line 19, in __init__\n    super().__init__(page)\n  File \"D:\\PycharmProjects\\avito-tech_QA-assignment\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 191, in impl\n    with StepContext(self.title.format(*args, **params), params):\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "steps": [{"name": "Navigate to Eco Impact page and take screenshot", "status": "broken", "statusDetails": {"message": "KeyError: 'url'\n", "trace": "  File \"D:\\PycharmProjects\\avito-tech_QA-assignment\\tests\\test_eco_impact.py\", line 133, in test_mocked_data_counter\n    eco_page = EcoImpactPage(page)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\PycharmProjects\\avito-tech_QA-assignment\\pages\\eco_impact_page.py\", line 19, in __init__\n    super().__init__(page)\n  File \"D:\\PycharmProjects\\avito-tech_QA-assignment\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 191, in impl\n    with StepContext(self.title.format(*args, **params), params):\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "start": 1713106869010, "stop": 1713106869010}], "start": 1713106868957, "stop": 1713106869011}], "parameters": [{"name": "test_data_file", "value": "'data_requests/test_data_03.json'"}, {"name": "counter_selector", "value": "'.desktop-impact-items-F7T6E'"}, {"name": "output_filename", "value": "'TC_06.png'"}], "start": 1713106868956, "stop": 1713106869012, "uuid": "1f80c818-759d-4d17-8c67-d1adb0ff4f1b", "historyId": "773188ec27f711a13ab2b51d4bf472bd", "testCaseId": "221ef7b3d8a5a9c76c1830668e60f72a", "fullName": "tests.test_eco_impact#test_mocked_data_counter", "labels": [{"name": "feature", "value": "Eco Impact Counters"}, {"name": "story", "value": "Mock Data Counter Test"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_eco_impact"}, {"name": "host", "value": "LAPTOP-SFQ2DO00"}, {"name": "thread", "value": "6420-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_eco_impact"}]}